###############################################################################################
# multistep.pre-build-tasks.yml
###############################################################################################

# this set of steps performs a number of tasks that need to run before the build:
# - backup swagger.json file so that it can be compared to the one generated by the build

parameters:
  apiName: ''

steps:
  - bash: cp '$(Build.SourcesDirectory)/src/${{ parameters.apiName }}Proxy/AutoGeneratedSwaggerDefinition/swagger.json $(Build.SourcesDirectory)/src/${{ parameters.apiName }}Proxy/AutoGeneratedSwaggerDefinition/swagger_prebuild.json'
    displayName: 'Copy committed version of swagger.json'
